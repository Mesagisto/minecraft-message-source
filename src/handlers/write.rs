use color_eyre::eyre;
use steven_protocol::protocol::{self, packet::Packet};

pub async fn handler(
  mut write: protocol::Conn,
  mut write_rx: tokio::sync::mpsc::UnboundedReceiver<Packet>,
) -> eyre::Result<()> {
  while let Some(packet) = write_rx.recv().await {
    match packet {
      Packet::Handshake(v) => write.write_packet(v)?,
      Packet::TeleportConfirm(v) => write.write_packet(v)?,
      Packet::QueryBlockNBT(v) => write.write_packet(v)?,
      Packet::SetDifficulty(v) => write.write_packet(v)?,
      Packet::TabComplete(v) => write.write_packet(v)?,
      Packet::TabComplete_NoAssume(v) => write.write_packet(v)?,
      Packet::TabComplete_NoAssume_NoTarget(v) => write.write_packet(v)?,
      Packet::ChatMessage(v) => write.write_packet(v)?,
      Packet::ClientStatus(v) => write.write_packet(v)?,
      Packet::ClientStatus_u8(v) => write.write_packet(v)?,
      Packet::ClientSettings_Filtering(v) => write.write_packet(v)?,
      Packet::ClientSettings(v) => write.write_packet(v)?,
      Packet::ClientSettings_u8(v) => write.write_packet(v)?,
      Packet::ClientSettings_u8_Handsfree(v) => write.write_packet(v)?,
      Packet::ClientSettings_u8_Handsfree_Difficulty(v) => write.write_packet(v)?,
      Packet::ConfirmTransactionServerbound(v) => write.write_packet(v)?,
      Packet::EnchantItem(v) => write.write_packet(v)?,
      Packet::ClickWindowButton(v) => write.write_packet(v)?,
      Packet::ClickWindow_State(v) => write.write_packet(v)?,
      Packet::ClickWindow(v) => write.write_packet(v)?,
      Packet::ClickWindow_u8(v) => write.write_packet(v)?,
      Packet::CloseWindow(v) => write.write_packet(v)?,
      Packet::PluginMessageServerbound(v) => write.write_packet(v)?,
      Packet::PluginMessageServerbound_i16(v) => write.write_packet(v)?,
      Packet::EditBook_Pages(v) => write.write_packet(v)?,
      Packet::EditBook_Item(v) => write.write_packet(v)?,
      Packet::QueryEntityNBT(v) => write.write_packet(v)?,
      Packet::UseEntity_Sneakflag(v) => write.write_packet(v)?,
      Packet::UseEntity_Hand(v) => write.write_packet(v)?,
      Packet::UseEntity_Handsfree(v) => write.write_packet(v)?,
      Packet::UseEntity_Handsfree_i32(v) => write.write_packet(v)?,
      Packet::GenerateStructure(v) => write.write_packet(v)?,
      Packet::KeepAliveServerbound_i64(v) => write.write_packet(v)?,
      Packet::KeepAliveServerbound_VarInt(v) => write.write_packet(v)?,
      Packet::KeepAliveServerbound_i32(v) => write.write_packet(v)?,
      Packet::LockDifficulty(v) => write.write_packet(v)?,
      Packet::PlayerPosition(v) => write.write_packet(v)?,
      Packet::PlayerPosition_HeadY(v) => write.write_packet(v)?,
      Packet::PlayerPositionLook(v) => write.write_packet(v)?,
      Packet::PlayerPositionLook_HeadY(v) => write.write_packet(v)?,
      Packet::PlayerLook(v) => write.write_packet(v)?,
      Packet::Player(v) => write.write_packet(v)?,
      Packet::VehicleMove(v) => write.write_packet(v)?,
      Packet::SteerBoat(v) => write.write_packet(v)?,
      Packet::PickItem(v) => write.write_packet(v)?,
      Packet::CraftRecipeRequest(v) => write.write_packet(v)?,
      Packet::ClientAbilities_f32(v) => write.write_packet(v)?,
      Packet::ClientAbilities_u8(v) => write.write_packet(v)?,
      Packet::PlayerDigging(v) => write.write_packet(v)?,
      Packet::PlayerDigging_u8(v) => write.write_packet(v)?,
      Packet::PlayerDigging_u8_u8y(v) => write.write_packet(v)?,
      Packet::PlayerAction(v) => write.write_packet(v)?,
      Packet::PlayerAction_i32(v) => write.write_packet(v)?,
      Packet::SteerVehicle(v) => write.write_packet(v)?,
      Packet::SteerVehicle_jump_unmount(v) => write.write_packet(v)?,
      Packet::WindowPong(v) => write.write_packet(v)?,
      Packet::CraftingBookData(v) => write.write_packet(v)?,
      Packet::SetDisplayedRecipe(v) => write.write_packet(v)?,
      Packet::SetRecipeBookState(v) => write.write_packet(v)?,
      Packet::NameItem(v) => write.write_packet(v)?,
      Packet::ResourcePackStatus(v) => write.write_packet(v)?,
      Packet::ResourcePackStatus_hash(v) => write.write_packet(v)?,
      Packet::AdvancementTab(v) => write.write_packet(v)?,
      Packet::SelectTrade(v) => write.write_packet(v)?,
      Packet::SetBeaconEffect(v) => write.write_packet(v)?,
      Packet::HeldItemChange(v) => write.write_packet(v)?,
      Packet::UpdateCommandBlock(v) => write.write_packet(v)?,
      Packet::UpdateCommandBlockMinecart(v) => write.write_packet(v)?,
      Packet::CreativeInventoryAction(v) => write.write_packet(v)?,
      Packet::UpdateJigsawBlock_Joint(v) => write.write_packet(v)?,
      Packet::UpdateJigsawBlock_Type(v) => write.write_packet(v)?,
      Packet::UpdateStructureBlock(v) => write.write_packet(v)?,
      Packet::SetSign(v) => write.write_packet(v)?,
      Packet::SetSign_i16y(v) => write.write_packet(v)?,
      Packet::ArmSwing(v) => write.write_packet(v)?,
      Packet::ArmSwing_Handsfree(v) => write.write_packet(v)?,
      Packet::ArmSwing_Handsfree_ID(v) => write.write_packet(v)?,
      Packet::SpectateTeleport(v) => write.write_packet(v)?,
      Packet::PlayerBlockPlacement_f32(v) => write.write_packet(v)?,
      Packet::PlayerBlockPlacement_u8(v) => write.write_packet(v)?,
      Packet::PlayerBlockPlacement_u8_Item(v) => write.write_packet(v)?,
      Packet::PlayerBlockPlacement_u8_Item_u8y(v) => write.write_packet(v)?,
      Packet::PlayerBlockPlacement_insideblock(v) => write.write_packet(v)?,
      Packet::UseItem(v) => write.write_packet(v)?,
      Packet::SpawnObject(v) => write.write_packet(v)?,
      Packet::SpawnObject_i32(v) => write.write_packet(v)?,
      Packet::SpawnObject_i32_NoUUID(v) => write.write_packet(v)?,
      Packet::SpawnObject_VarInt(v) => write.write_packet(v)?,
      Packet::SpawnExperienceOrb(v) => write.write_packet(v)?,
      Packet::SpawnExperienceOrb_i32(v) => write.write_packet(v)?,
      Packet::SpawnGlobalEntity(v) => write.write_packet(v)?,
      Packet::SpawnGlobalEntity_i32(v) => write.write_packet(v)?,
      Packet::SpawnMob_NoMeta(v) => write.write_packet(v)?,
      Packet::SpawnMob_WithMeta(v) => write.write_packet(v)?,
      Packet::SpawnMob_u8(v) => write.write_packet(v)?,
      Packet::SpawnMob_u8_i32(v) => write.write_packet(v)?,
      Packet::SpawnMob_u8_i32_NoUUID(v) => write.write_packet(v)?,
      Packet::SpawnPainting_VarInt(v) => write.write_packet(v)?,
      Packet::SpawnPainting_String(v) => write.write_packet(v)?,
      Packet::SpawnPainting_NoUUID(v) => write.write_packet(v)?,
      Packet::SpawnPainting_NoUUID_i32(v) => write.write_packet(v)?,
      Packet::SpawnPlayer_f64_NoMeta(v) => write.write_packet(v)?,
      Packet::SpawnPlayer_f64(v) => write.write_packet(v)?,
      Packet::SpawnPlayer_i32(v) => write.write_packet(v)?,
      Packet::SpawnPlayer_i32_HeldItem(v) => write.write_packet(v)?,
      Packet::SpawnPlayer_i32_HeldItem_String(v) => write.write_packet(v)?,
      Packet::SculkVibrationSignal(v) => write.write_packet(v)?,
      Packet::Animation(v) => write.write_packet(v)?,
      Packet::Statistics(v) => write.write_packet(v)?,
      Packet::BlockBreakAnimation(v) => write.write_packet(v)?,
      Packet::BlockBreakAnimation_i32(v) => write.write_packet(v)?,
      Packet::UpdateBlockEntity(v) => write.write_packet(v)?,
      Packet::UpdateBlockEntity_Data(v) => write.write_packet(v)?,
      Packet::BlockAction(v) => write.write_packet(v)?,
      Packet::BlockAction_u16(v) => write.write_packet(v)?,
      Packet::BlockChange_VarInt(v) => write.write_packet(v)?,
      Packet::BlockChange_u8(v) => write.write_packet(v)?,
      Packet::BossBar(v) => write.write_packet(v)?,
      Packet::ServerDifficulty(v) => write.write_packet(v)?,
      Packet::ServerDifficulty_Locked(v) => write.write_packet(v)?,
      Packet::TabCompleteReply(v) => write.write_packet(v)?,
      Packet::DeclareCommands(v) => write.write_packet(v)?,
      Packet::ServerMessage_Sender(v) => write.write_packet(v)?,
      Packet::ServerMessage_Position(v) => write.write_packet(v)?,
      Packet::ServerMessage_NoPosition(v) => write.write_packet(v)?,
      Packet::ClearTitles(v) => write.write_packet(v)?,
      Packet::MultiBlockChange_Packed(v) => write.write_packet(v)?,
      Packet::MultiBlockChange_VarInt(v) => write.write_packet(v)?,
      Packet::MultiBlockChange_u16(v) => write.write_packet(v)?,
      Packet::ConfirmTransaction(v) => write.write_packet(v)?,
      Packet::WindowClose(v) => write.write_packet(v)?,
      Packet::WindowOpen(v) => write.write_packet(v)?,
      Packet::WindowOpenHorse(v) => write.write_packet(v)?,
      Packet::WorldBorderInit(v) => write.write_packet(v)?,
      Packet::WindowOpen_u8(v) => write.write_packet(v)?,
      Packet::WindowOpen_VarInt(v) => write.write_packet(v)?,
      Packet::WindowItems_StateCarry(v) => write.write_packet(v)?,
      Packet::WindowItems_i16(v) => write.write_packet(v)?,
      Packet::WindowProperty(v) => write.write_packet(v)?,
      Packet::WindowSetSlot_State(v) => write.write_packet(v)?,
      Packet::WindowSetSlot(v) => write.write_packet(v)?,
      Packet::SetCooldown(v) => write.write_packet(v)?,
      Packet::PluginMessageClientbound(v) => write.write_packet(v)?,
      Packet::PluginMessageClientbound_i16(v) => write.write_packet(v)?,
      Packet::NamedSoundEffect(v) => write.write_packet(v)?,
      Packet::NamedSoundEffect_u8(v) => write.write_packet(v)?,
      Packet::NamedSoundEffect_u8_NoCategory(v) => write.write_packet(v)?,
      Packet::Disconnect(v) => write.write_packet(v)?,
      Packet::EntityAction(v) => write.write_packet(v)?,
      Packet::Explosion_VarInt(v) => write.write_packet(v)?,
      Packet::Explosion_i32(v) => write.write_packet(v)?,
      Packet::ChunkUnload(v) => write.write_packet(v)?,
      Packet::SetCompression(v) => write.write_packet(v)?,
      Packet::ChangeGameState(v) => write.write_packet(v)?,
      Packet::KeepAliveClientbound_i64(v) => write.write_packet(v)?,
      Packet::KeepAliveClientbound_VarInt(v) => write.write_packet(v)?,
      Packet::KeepAliveClientbound_i32(v) => write.write_packet(v)?,
      Packet::ChunkData_Biomes3D_Bitmasks(v) => write.write_packet(v)?,
      Packet::ChunkData_Biomes3D_VarInt(v) => write.write_packet(v)?,
      Packet::ChunkData_Biomes3D_bool(v) => write.write_packet(v)?,
      Packet::ChunkData_Biomes3D(v) => write.write_packet(v)?,
      Packet::ChunkData_HeightMap(v) => write.write_packet(v)?,
      Packet::ChunkData(v) => write.write_packet(v)?,
      Packet::ChunkData_NoEntities(v) => write.write_packet(v)?,
      Packet::ChunkData_NoEntities_u16(v) => write.write_packet(v)?,
      Packet::ChunkData_17(v) => write.write_packet(v)?,
      Packet::ChunkDataBulk(v) => write.write_packet(v)?,
      Packet::ChunkDataBulk_17(v) => write.write_packet(v)?,
      Packet::Effect(v) => write.write_packet(v)?,
      Packet::Effect_u8y(v) => write.write_packet(v)?,
      Packet::Particle_f64(v) => write.write_packet(v)?,
      Packet::Particle_f32(v) => write.write_packet(v)?,
      Packet::Particle_VarIntArray(v) => write.write_packet(v)?,
      Packet::Particle_Named(v) => write.write_packet(v)?,
      Packet::JoinGame_WorldNames_IsHard(v) => write.write_packet(v)?,
      Packet::JoinGame_WorldNames(v) => write.write_packet(v)?,
      Packet::JoinGame_HashedSeed_Respawn(v) => write.write_packet(v)?,
      Packet::JoinGame_i32_ViewDistance(v) => write.write_packet(v)?,
      Packet::JoinGame_i32(v) => write.write_packet(v)?,
      Packet::JoinGame_i8(v) => write.write_packet(v)?,
      Packet::JoinGame_i8_NoDebug(v) => write.write_packet(v)?,
      Packet::Maps(v) => write.write_packet(v)?,
      Packet::Maps_NoLocked(v) => write.write_packet(v)?,
      Packet::Maps_NoTracking(v) => write.write_packet(v)?,
      Packet::Maps_NoTracking_Data(v) => write.write_packet(v)?,
      Packet::EntityMove_i16(v) => write.write_packet(v)?,
      Packet::EntityMove_i8(v) => write.write_packet(v)?,
      Packet::EntityMove_i8_i32_NoGround(v) => write.write_packet(v)?,
      Packet::EntityLookAndMove_i16(v) => write.write_packet(v)?,
      Packet::EntityLookAndMove_i8(v) => write.write_packet(v)?,
      Packet::EntityLookAndMove_i8_i32_NoGround(v) => write.write_packet(v)?,
      Packet::EntityLook_VarInt(v) => write.write_packet(v)?,
      Packet::EntityLook_i32_NoGround(v) => write.write_packet(v)?,
      Packet::Entity(v) => write.write_packet(v)?,
      Packet::Entity_i32(v) => write.write_packet(v)?,
      Packet::EntityUpdateNBT(v) => write.write_packet(v)?,
      Packet::VehicleTeleport(v) => write.write_packet(v)?,
      Packet::OpenBook(v) => write.write_packet(v)?,
      Packet::SignEditorOpen(v) => write.write_packet(v)?,
      Packet::SignEditorOpen_i32(v) => write.write_packet(v)?,
      Packet::WindowPing(v) => write.write_packet(v)?,
      Packet::CraftRecipeResponse(v) => write.write_packet(v)?,
      Packet::PlayerAbilities(v) => write.write_packet(v)?,
      Packet::CombatEvent(v) => write.write_packet(v)?,
      Packet::CombatEventEnd(v) => write.write_packet(v)?,
      Packet::CombatEventEnter(v) => write.write_packet(v)?,
      Packet::CombatEventDeath(v) => write.write_packet(v)?,
      Packet::PlayerInfo(v) => write.write_packet(v)?,
      Packet::PlayerInfo_String(v) => write.write_packet(v)?,
      Packet::FacePlayer(v) => write.write_packet(v)?,
      Packet::TeleportPlayer_WithDismount(v) => write.write_packet(v)?,
      Packet::TeleportPlayer_WithConfirm(v) => write.write_packet(v)?,
      Packet::TeleportPlayer_NoConfirm(v) => write.write_packet(v)?,
      Packet::TeleportPlayer_OnGround(v) => write.write_packet(v)?,
      Packet::EntityUsedBed(v) => write.write_packet(v)?,
      Packet::EntityUsedBed_i32(v) => write.write_packet(v)?,
      Packet::UnlockRecipes_NoSmelting(v) => write.write_packet(v)?,
      Packet::UnlockRecipes_WithSmelting(v) => write.write_packet(v)?,
      Packet::UnlockRecipes_WithBlastSmoker(v) => write.write_packet(v)?,
      Packet::EntityDestroy(v) => write.write_packet(v)?,
      Packet::EntityDestroy_u8(v) => write.write_packet(v)?,
      Packet::EntityRemoveEffect(v) => write.write_packet(v)?,
      Packet::EntityRemoveEffect_i32(v) => write.write_packet(v)?,
      Packet::ResourcePackSend_Prompt(v) => write.write_packet(v)?,
      Packet::ResourcePackSend(v) => write.write_packet(v)?,
      Packet::Respawn_Gamemode(v) => write.write_packet(v)?,
      Packet::Respawn_HashedSeed(v) => write.write_packet(v)?,
      Packet::Respawn_NBT(v) => write.write_packet(v)?,
      Packet::Respawn_WorldName(v) => write.write_packet(v)?,
      Packet::EntityHeadLook(v) => write.write_packet(v)?,
      Packet::EntityHeadLook_i32(v) => write.write_packet(v)?,
      Packet::EntityStatus(v) => write.write_packet(v)?,
      Packet::NBTQueryResponse(v) => write.write_packet(v)?,
      Packet::SelectAdvancementTab(v) => write.write_packet(v)?,
      Packet::ActionBar(v) => write.write_packet(v)?,
      Packet::WorldBorder(v) => write.write_packet(v)?,
      Packet::WorldBorderCenter(v) => write.write_packet(v)?,
      Packet::WorldBorderLerpSize(v) => write.write_packet(v)?,
      Packet::WorldBorderSize(v) => write.write_packet(v)?,
      Packet::WorldBorderWarningDelay(v) => write.write_packet(v)?,
      Packet::WorldBorderWarningReach(v) => write.write_packet(v)?,
      Packet::Camera(v) => write.write_packet(v)?,
      Packet::SetCurrentHotbarSlot(v) => write.write_packet(v)?,
      Packet::UpdateViewPosition(v) => write.write_packet(v)?,
      Packet::UpdateViewDistance(v) => write.write_packet(v)?,
      Packet::ScoreboardDisplay(v) => write.write_packet(v)?,
      Packet::EntityMetadata(v) => write.write_packet(v)?,
      Packet::EntityMetadata_i32(v) => write.write_packet(v)?,
      Packet::EntityAttach(v) => write.write_packet(v)?,
      Packet::EntityAttach_leashed(v) => write.write_packet(v)?,
      Packet::EntityVelocity(v) => write.write_packet(v)?,
      Packet::EntityVelocity_i32(v) => write.write_packet(v)?,
      Packet::EntityEquipment_Array(v) => write.write_packet(v)?,
      Packet::EntityEquipment_VarInt(v) => write.write_packet(v)?,
      Packet::EntityEquipment_u16(v) => write.write_packet(v)?,
      Packet::EntityEquipment_u16_i32(v) => write.write_packet(v)?,
      Packet::SetExperience(v) => write.write_packet(v)?,
      Packet::SetExperience_i16(v) => write.write_packet(v)?,
      Packet::UpdateHealth(v) => write.write_packet(v)?,
      Packet::UpdateHealth_u16(v) => write.write_packet(v)?,
      Packet::ScoreboardObjective(v) => write.write_packet(v)?,
      Packet::ScoreboardObjective_NoMode(v) => write.write_packet(v)?,
      Packet::SetPassengers(v) => write.write_packet(v)?,
      Packet::Teams_VarInt(v) => write.write_packet(v)?,
      Packet::Teams_u8(v) => write.write_packet(v)?,
      Packet::Teams_NoVisColor(v) => write.write_packet(v)?,
      Packet::UpdateScore(v) => write.write_packet(v)?,
      Packet::UpdateScore_i32(v) => write.write_packet(v)?,
      Packet::SpawnPosition_Angle(v) => write.write_packet(v)?,
      Packet::SpawnPosition_NoAngle(v) => write.write_packet(v)?,
      Packet::SpawnPosition_i32(v) => write.write_packet(v)?,
      Packet::TimeUpdate(v) => write.write_packet(v)?,
      Packet::StopSound(v) => write.write_packet(v)?,
      Packet::Title(v) => write.write_packet(v)?,
      Packet::Title_notext(v) => write.write_packet(v)?,
      Packet::Title_notext_component(v) => write.write_packet(v)?,
      Packet::TitleSubtitle(v) => write.write_packet(v)?,
      Packet::TitleTimes(v) => write.write_packet(v)?,
      Packet::UpdateSign(v) => write.write_packet(v)?,
      Packet::UpdateSign_u16(v) => write.write_packet(v)?,
      Packet::SoundEffect(v) => write.write_packet(v)?,
      Packet::SoundEffect_u8(v) => write.write_packet(v)?,
      Packet::EntitySoundEffect(v) => write.write_packet(v)?,
      Packet::PlayerListHeaderFooter(v) => write.write_packet(v)?,
      Packet::CollectItem(v) => write.write_packet(v)?,
      Packet::CollectItem_nocount(v) => write.write_packet(v)?,
      Packet::CollectItem_nocount_i32(v) => write.write_packet(v)?,
      Packet::EntityTeleport_f64(v) => write.write_packet(v)?,
      Packet::EntityTeleport_i32(v) => write.write_packet(v)?,
      Packet::EntityTeleport_i32_i32_NoGround(v) => write.write_packet(v)?,
      Packet::Advancements(v) => write.write_packet(v)?,
      Packet::EntityProperties_VarIntVarInt(v) => write.write_packet(v)?,
      Packet::EntityProperties_VarInt(v) => write.write_packet(v)?,
      Packet::EntityProperties_i32(v) => write.write_packet(v)?,
      Packet::EntityEffect(v) => write.write_packet(v)?,
      Packet::EntityEffect_i32(v) => write.write_packet(v)?,
      Packet::DeclareRecipes(v) => write.write_packet(v)?,
      Packet::Tags(v) => write.write_packet(v)?,
      Packet::Tags_WithEntities(v) => write.write_packet(v)?,
      Packet::Tags_Nested(v) => write.write_packet(v)?,
      Packet::AcknowledgePlayerDigging(v) => write.write_packet(v)?,
      Packet::UpdateLight_Arrays(v) => write.write_packet(v)?,
      Packet::UpdateLight_WithTrust(v) => write.write_packet(v)?,
      Packet::UpdateLight_NoTrust(v) => write.write_packet(v)?,
      Packet::TradeList_WithoutRestock(v) => write.write_packet(v)?,
      Packet::TradeList_WithRestock(v) => write.write_packet(v)?,
      Packet::CoFHLib_SendUUID(v) => write.write_packet(v)?,
      Packet::LoginStart(v) => write.write_packet(v)?,
      Packet::EncryptionResponse(v) => write.write_packet(v)?,
      Packet::EncryptionResponse_i16(v) => write.write_packet(v)?,
      Packet::LoginPluginResponse(v) => write.write_packet(v)?,
      Packet::LoginDisconnect(v) => write.write_packet(v)?,
      Packet::EncryptionRequest(v) => write.write_packet(v)?,
      Packet::EncryptionRequest_i16(v) => write.write_packet(v)?,
      Packet::LoginSuccess_String(v) => write.write_packet(v)?,
      Packet::LoginSuccess_UUID(v) => write.write_packet(v)?,
      Packet::SetInitialCompression(v) => write.write_packet(v)?,
      Packet::LoginPluginRequest(v) => write.write_packet(v)?,
      Packet::StatusRequest(v) => write.write_packet(v)?,
      Packet::StatusPing(v) => write.write_packet(v)?,
      Packet::StatusResponse(v) => write.write_packet(v)?,
      Packet::StatusPong(v) => write.write_packet(v)?,
    }
  }
  Ok(())
}
